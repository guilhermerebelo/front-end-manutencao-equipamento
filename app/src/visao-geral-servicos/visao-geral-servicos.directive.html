<logout></logout>
<div class="c-fluid">
    <div class="row space-row">
        <div class="col-md-12">
            <h4>Cadastro de pessoa física</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-md-7">
            <button class="btn btn-primary" ng-click="vm.openModal()">ADICIONAR</button>
        </div>
        <div class="col-md-5">
            <div class="col-md-12">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Buscar" aria-describedby="inputGroupPrepend"
                        ng-model="vm.filter" ng-keyup="$event.keyCode == 13 ? vm.listAll() : null" maxlength="100">
                    <div style="cursor: pointer;" ng-click="vm.listAll()" class="input-group-prepend">
                        <span class="input-group-text" id="inputGroupPrepend"><i class="fa fa-search"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-md-12" style="min-height: 300px;">
            <table class="table" ng-if="vm.pessoas.length > 0">
                <thead>
                    <tr>
                        <th class="align-middle" style="width: 40%">NOME</th>
                        <th class="align-middle" style="width: 140px">NATURALIDADE</th>
                        <th class="align-middle" style="width: 140px">NACIONALIDADE</th>
                        <th class="align-middle" style="width: 90px">SEXO</th>
                        <th class="align-middle" style="width: 130px;">DATA DE NASCIMENTO</th>
                        <th class="align-middle" style="width: 45px;"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="pessoa in vm.pessoas">
                        <td>
                            <span style="font-size: 1.1em;">{{pessoa.nome}}</span> <br>
                            <small class="text-muted">cpf {{pessoa.cpf | cpfMask}}</small>
                        </td>
                        <td class="align-middle">
                            {{pessoa.naturalidade}}
                        </td>
                        <td class="align-middle">
                            {{pessoa.nacionalidade}}
                        </td>
                        <td class="align-middle">
                            <display-enum tipo="SEXO" enum="pessoa.sexo"></display-enum>
                        </td>
                        <td class="align-middle">{{pessoa.dataNascimento | date:'dd/MM/yyyy'}}</td>
                        <td class="align-middle">
                            <a href ng-click="vm.openModal(pessoa.id)"><i class="fa fa-pencil"></i></a>
                            <a href ng-click="vm.remove(pessoa.id)"><i class="fa fa-trash"></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div ng-if="vm.pessoas.length === 0" class="text-center">
                <h4>Não há itens na listagem</h4>
            </div>

            <div class="pull-right">
                <ul uib-pagination total-items="vm.totalElements" ng-model="vm.pageNumber" ng-change="vm.listAll()"
                    previous-text="&lsaquo;" next-text="&rsaquo;"></ul>
            </div>
        </div>
    </div>
</div>